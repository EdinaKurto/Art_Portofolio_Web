<head>
  <link rel="stylesheet" href="assets/css/comission-style.css" />
  <title>ArtWeb</title>
</head>

<body>
  <!--- Comission 1 ------>
  <div class="comission" data-user-id="0">
    <div class="comissionItem">
      <figure>
        <a href="comissions_page.html">
          <img class="comissionImage" src="Images/Discover Page/Animals/animal_1.jpg" /></a>
        <figcaption>
          <a href="#view_my_profile">
            <img class="profilePicture" src="Images/My Proffile/Profile.png" width="64" height="64" />
          </a>
          <br />
          <span class="comissionTitle">Title</span>
          <small> - by <span class="comissionName">Firstname Lastname</span></small>
        </figcaption>
      </figure>
    </div>
  </div>

  <!--- Comission 2 ------>
  <div class="comission" data-user-id="1">
    <div class="comissionItem">
      <figure>
        <a href="comissions_page.html">
        <img class="comissionImage" src="Images/Discover Page/Animals/animal_1.jpg" /></a>
        <figcaption>
          <a href="#view_my_profile">
            <img class="profilePicture" src="Images/My Proffile/Profile.png" width="64" height="64" />
          </a>
          <br />
          <span class="comissionTitle">Title</span>
          <small> - by <span class="comissionName">Firstname Lastname</span></small>
        </figcaption>
      </figure>
    </div>
  </div>


   <!----------------------------- The Info Grabber Script ----------------------------------->

  <script>
    fetch('assets/json/comissions.json')
      .then(response => response.json())
      .then(data => {
        data.forEach(userProfile => {
          // Check to see if correct data is displayed
          console.log("User Profile:", userProfile);

          // Use user ID to find the correct comission item
          const comissionItem = document.querySelector(`[data-user-id="${userProfile['User ID']}"]`);
          if (!comissionItem) return; 

          // Profile picture grabber
          const profilePicture = comissionItem.querySelector('.profilePicture');
          profilePicture.src = `Images/My Proffile/${userProfile["User ID"]}.png`;

          // Title, Firstname, Lastname, and Title grabber
          const titleSpan = comissionItem.querySelector('.comissionTitle');
          titleSpan.innerText = userProfile.Title;

          console.log("Title:", userProfile.Title);
          
          const nameSpan = comissionItem.querySelector('.comissionName');
          nameSpan.innerText = `${userProfile.Firstname} ${userProfile.Lastname}`;
        });
      })
      .catch(error => console.error('Error fetching user profiles:', error));
  </script>
</body>
